0917 study<br><br>

## 콘솔 입출력과 파일 입출력1
<hr>

### 스트림 과 버퍼
**`Stream`** 이란 데이터를 입력하고 출력하기위한 다리이다. 우리는 `scanf()`를 사용해서 데이터를 입력받았고 `prinrf()` 를 이용하여 데이터를 출력하였다.
키보드와 프로그램, 프로그램과 모니터를 이어주는것이 `Stream`이다.
즉, 소프트웨어적으로 구현되어 있는 가상의 다리이다.<br>
**`Buffer`** 란 처리할 데이터를 임시로 저장하는 저장소이다. 데이터 생성 속도와 데이터 처리속도가 다를 경우 속도 차이를 메워 주기 위한 임시 저장공간으로서 역할을 한다.<br>
우리가 키보드를 통해서 입력한 데이터는 입력 스트림을 통해 입력 버퍼에 임시로 저장되고, `printf()` 함수를 통해 출력버퍼에 저장되어서 출력 스트림을 통해 모니터에 출력된다.
<hr>

### 콘솔 입출력
콘솔 표준 함수와 콘솔 비표준함수의 차이는 버퍼의 사용 유무이다.
* 콘솔 비표준 함수 `kbhit()`의 예
```c
#include<stdio.h>
#include<conio.h>
{
    char ch=0;
    printf("키 입력");

     while (char ! = 'q')
     {
         if(kbhit())
         {
             ch=getche();
             putch(ch);
         }
     }
     return 0;    
}
```
ch에 저장된 값이 q인지를 검사한 후 q가 아니라면 `kbhit()`이 키가 눌렸는지 확인후 눌러졌다면 조건문을 수행하여 데이터를 출력한다.

<hr>
### 파일 입출력
파일 입출력 과정
> step1 . 파일 스트림을 생성한다. (파일 포인터 생성)<br>
step2 . 파일을 연다. (`fopen()`함수 사용)
step3 . 파일 입출력을 시행한다. (`fgetc()`,`fputc()`,`fputs()`,`fscanf()`,`fprintf()`,`fread()`,`fwrite()`등등)
step4 . 파일을 닫는다 (`fclose()` 함수 사용)


## `fopen()`과 `fclose()`
```c
#include <stdio.h>

int main()
{
FILE*stream;
int file_state;

stream=fopen("data1.txt","w");
if(stream==NULL)
printf("파일 열기 에러\n");

file_state=fclose(stream);
if(file_state==EOF)
puts("파일 닫기 에러");

return 0;
}
```
* `fopen()`의 파일 접근 모드

|모드|설명|
|------|---|
|r|읽기 전용으로 파일을 열고, 파일이없거나 못찾으면 호출이 실패한다.|
|w|쓰기전용으로 파일을 열고, 지정한 파일이 있으면 파일의 내용을 모두 지우고 새파일을 쓴다. 지정한 파일이 없으면 파일을 생성해서 데이터를 쓴다.|
|a|추가 쓰기  전용으로 파일을 열고, 지정한 파일이 있으면 파일의 끝에서부터 내용을 추가한다.|
|t|텍스트 파일모드|
|b|바이너리 파일 모드|
