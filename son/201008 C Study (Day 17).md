20-10-08 C Study (Day 17)
=====
교제 : 윤성우의 열혈 C 프로그래밍

chapter 21 : 문자와 문자열 관련 함수  

<hr>

## 스트림과 데이터의 이동

스트림이란 '한 방향으로 프르는 데이터의 흐름'을 뜻한다.  
즉, 단 방향의 데이터 전송을 의미하며 스트림의 종류에는 입력 스트림, 출력 스트림, 에러 스트림이 존재한다.  
에러 스트림을 결과적으론 모니터로의 출력이니 '출력 스트림'과 사실상 차이는 없다고 한다.  

### 데이터 이동수단이 되는 스트림

사실 우리가 사용하는 프로그램은 키보드와 모니터를 마음대로 사용할 수 없다.  
운영체제에게 부탁하여 사용을 하게 되는데 이때 출력 장치와 입력 장치에 다리 역할을 하는 스트림이 생성 된다.  

그러나 우리는 키보드로 부터 입력을 받는 스트림과 모니터로 출력을 하는 출력 스트림의 생성관련된 코드를 본 적이 없다.
사실 콘솔 입출력을 위한 입출력 스트림은 프로그램이 실행 되면 자동으로 생성된다.  
이를 '표준 스트림'이라고 하며 종류는 다음과 같다.

|이름|스트림|입출력 대상| 
|---------|--------------|
|stdin |표준 입력 스트림|키보드 대상으로 입력|
|stdout|표준 출력 스트림|모니터 대상으로 출력|
|stderr|표준 에러 스트림|모니터 대상으로 출력|

## 문자 단위 입출력 함수

### 문자 출력 함수: putchar, fputc

```
int putchar(int c);
int fputc(int c, FILE * stream);
	-> 함수호출 성공 시 쓰여진 문자정보가, 실패 시 EOF 반환
```
fputc는 출력할 스트림을 지정할 수 있다. stream에 stdout을 넘겨주면 putchar와 정확히 동일한 의미를 갖는다.  
 
### 문자 입력 함수: getchar, fgetc

```
int getchar(void);
int fgetc(FILE * stream);
	-> 파일의 끝에 도달하거나 함수호출 실패 시 EOF 반환
```
위와 마찬가지로 출력할 스트림을 지정할 수 있으며 stream에 stdin을 넘겨주면 getchar와 동일한 의미를 갖는다.

#### 반환형과 EOF의 의미

위의 함수를 보다보면 의문점이 든다 문자를 입력 받는데 굳이 반환형이 char이 아니라 int인가?  
일단 EOF의 의미를 알아보면 End Of File의 줄임말이고 값은 -1로 정의된 상수이다. 컴파일러에 따라 다르지만 char를 unsigned char로 처리하는 컴파일러도 존재한다고 한다.  
이러한 컴파일러와의 EOF의 -1값을 제대로 처리하기 위한 호환성을 위해 int형으로 반환형을 지정해 놓은 것이다.

### 프로그래밍 예제

알파벳 문자 하나를 입력 받아, 입력 받은 문자가 대문자면 소문자로, 소문자이면 대문자로 변환하여 출력하는 프로그램을 작성하자  
단, 문자의 입출력에는 getchar와 putchar를 활용하자.

```c
#include <stdio.h>

int main(void) {
	
	int alpha;

	printf("알파벳 문자 입력: ");
	alpha = getchar();

	if ('A' <= alpha && alpha <= 'Z') {
		alpha += 'a' - 'A';
	}
	else if ('a' <= alpha && alpha <= 'z') {
		alpha -= 'a' - 'A';
	}
	else {
		printf("잘못 입력하셨습니다. \n");
		return 0;
	}
	printf("문자 변환: ");
	putchar(alpha);
	return 0;
}
```